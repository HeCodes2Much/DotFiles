#!/usr/bin/env bash

#------------------------------------------------------------------------------
# Path         - /usr/bin/fourmon
# GitHub       - https://github.com/The-Repo-Club/
# Author       - The-Repo-Club [wayne6324@gmail.com]
# Start On     - Sun 31 Oct 00:29:10 BST 2021
# Modified On  - Sun 31 Oct 00:29:10 BST 2021
#------------------------------------------------------------------------------

# Testing out virtual monitors
if ! xrandr --listactivemonitors | grep -q virt_1; then
    xrandr --setmonitor virt_1 1920/340x1080/190+0+0 HDMI-1-0
    xrandr --setmonitor virt_2 1920/340x1080/190+1920+0 none
    xrandr --setmonitor virt_3 1920/340x1080/190+0+1080 none
    xrandr --setmonitor virt_4 1920/340x1080/190+1920+1080 none
    xrandr --output eDP1 --mode 1920x1080 --pos 3840x0 --rotate normal --output VIRTUAL1 --off --output HDMI-1-0 --primary --mode 3840x2160 --pos 0x0 --rotate normal --output DP-1-0 --off
    if [ "$DESKTOP_SESSION" == "i3" ]; then
        ~/.config/polybar/launch.sh
    fi
    ~/.fehbg
else
    xrandr --delmonitor virt_1
    xrandr --delmonitor virt_2
    xrandr --delmonitor virt_3
    xrandr --delmonitor virt_4
    xrandr --output eDP1 --primary --mode 1920x1080 --pos 0x0 --rotate normal --output VIRTUAL1 --off --output HDMI-1-0 --mode 1920x1080 --pos 1920x0 --rotate normal --output DP-1-0 --off
    if [ "$DESKTOP_SESSION" == "i3" ]; then
        ~/.config/polybar/launch.sh
    fi
    ~/.fehbg
fi
