#!/usr/bin/env bash

if [ $1 ]; then
  workspace_list=""

  while read -r workspace; do
    name="${workspace/* /}"
    case "$workspace" in
    *"*"*) workspace_list+="%{A:bspc desktop -f ${name}:}%{F#282A36}%{B#BD93F9} $name %{F-}%{B-}%{A} " ;;
    *) workspace_list+="%{A:bspc desktop -f ${name}:}%{F#282A36}%{B#C4C7C5} $name %{F-}%{B-}%{A} " ;;
    esac
  done < <(wmctrl -d | grep "VP: $1")
  output="${workspace_list}"
  echo "$output"
fi
